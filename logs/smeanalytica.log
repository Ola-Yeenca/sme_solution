2025-02-05 02:00:06,015 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating pricing analyzer
2025-02-05 02:00:06,015 [ERROR] smeanalytica.shared.business_analyzer_factory:41: Failed to create analyzer pricing: name 'os' is not defined
2025-02-05 02:00:06,015 [ERROR] __main__:63: Application startup failed: name 'os' is not defined
Traceback (most recent call last):
  File "/Users/olayinka/CascadeProjects/Business_Auto/main.py", line 52, in main
    dynamic_pricing = factory.create_analyzer('pricing')
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/shared/business_analyzer_factory.py", line 38, in create_analyzer
    return analyzer_class(self.data_fetcher, business_type)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/solutions/dynamic_pricing.py", line 19, in __init__
    self.api_key = os.getenv("OPENROUTER_API_KEY")
                   ^^
NameError: name 'os' is not defined
2025-02-05 02:00:22,318 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating pricing analyzer
2025-02-05 02:00:22,319 [ERROR] smeanalytica.shared.business_analyzer_factory:41: Failed to create analyzer pricing: name 'ModelConfig' is not defined
2025-02-05 02:00:22,319 [ERROR] __main__:63: Application startup failed: name 'ModelConfig' is not defined
Traceback (most recent call last):
  File "/Users/olayinka/CascadeProjects/Business_Auto/main.py", line 52, in main
    dynamic_pricing = factory.create_analyzer('pricing')
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/shared/business_analyzer_factory.py", line 38, in create_analyzer
    return analyzer_class(self.data_fetcher, business_type)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/solutions/dynamic_pricing.py", line 25, in __init__
    self.model = ModelConfig.get_recommended_model("pricing_analysis")
                 ^^^^^^^^^^^
NameError: name 'ModelConfig' is not defined
2025-02-05 02:05:32,486 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating pricing analyzer
2025-02-05 02:05:32,486 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating sentiment analyzer
2025-02-05 02:05:32,487 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating competitors analyzer
2025-02-05 02:05:32,487 [ERROR] smeanalytica.shared.business_analyzer_factory:41: Failed to create analyzer competitors: name 'os' is not defined
2025-02-05 02:05:32,487 [ERROR] __main__:63: Application startup failed: name 'os' is not defined
Traceback (most recent call last):
  File "/Users/olayinka/CascadeProjects/Business_Auto/main.py", line 54, in main
    competitor_analyzer = factory.create_analyzer('competitors')
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/shared/business_analyzer_factory.py", line 38, in create_analyzer
    return analyzer_class(self.data_fetcher, business_type)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/solutions/competitor_analysis.py", line 18, in __init__
    self.api_key = os.getenv("OPENROUTER_API_KEY")
                   ^^
NameError: name 'os' is not defined
2025-02-05 02:05:48,478 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating pricing analyzer
2025-02-05 02:05:48,479 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating sentiment analyzer
2025-02-05 02:05:48,479 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating competitors analyzer
2025-02-05 02:05:48,480 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating forecast analyzer
2025-02-05 02:05:48,480 [ERROR] smeanalytica.shared.business_analyzer_factory:41: Failed to create analyzer forecast: 'BusinessType' object has no attribute 'upper'
2025-02-05 02:05:48,480 [ERROR] __main__:63: Application startup failed: 'BusinessType' object has no attribute 'upper'
Traceback (most recent call last):
  File "/Users/olayinka/CascadeProjects/Business_Auto/main.py", line 55, in main
    sales_forecasting = factory.create_analyzer('forecast')
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/shared/business_analyzer_factory.py", line 38, in create_analyzer
    return analyzer_class(self.data_fetcher, business_type)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/solutions/sales_forecast.py", line 25, in __init__
    self.simple_forecast = SimpleForecastAnalyzer(self.business_type)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/solutions/simple_forecast.py", line 39, in __init__
    self.business_type = business_type.upper()
                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'BusinessType' object has no attribute 'upper'
2025-02-05 02:06:35,248 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating pricing analyzer
2025-02-05 02:06:35,250 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating sentiment analyzer
2025-02-05 02:06:35,251 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating competitors analyzer
2025-02-05 02:06:35,252 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating forecast analyzer
2025-02-05 02:07:04,274 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating pricing analyzer
2025-02-05 02:07:04,274 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating sentiment analyzer
2025-02-05 02:07:04,274 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating competitors analyzer
2025-02-05 02:07:04,275 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating forecast analyzer
2025-02-05 02:09:12,384 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating pricing analyzer
2025-02-05 02:09:12,385 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating sentiment analyzer
2025-02-05 02:09:12,385 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating competitors analyzer
2025-02-05 02:09:12,386 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating forecast analyzer
2025-02-05 02:09:49,498 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating pricing analyzer
2025-02-05 02:09:49,498 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating sentiment analyzer
2025-02-05 02:09:49,498 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating competitors analyzer
2025-02-05 02:09:49,498 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating forecast analyzer
2025-02-05 02:14:39,054 [ERROR] root:167: Unexpected error: Object of type coroutine is not JSON serializable
Traceback (most recent call last):
  File "/Users/olayinka/CascadeProjects/Business_Auto/venv/lib/python3.11/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/venv/lib/python3.11/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/api/middleware/auth.py", line 31, in decorated
    """Decorator to require API key authentication."""
               ^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/api/middleware/rate_limit.py", line 54, in decorated
    if endpoint_type not in rate_limit_cache:
                   ^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/api/middleware/cache.py", line 70, in decorated
    cache_key = generate_cache_key(cache_data)
               ^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/venv/lib/python3.11/site-packages/flask/json/__init__.py", line 170, in jsonify
    return current_app.json.response(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/venv/lib/python3.11/site-packages/flask/json/provider.py", line 215, in response
    f"{self.dumps(obj, **dump_args)}\n", mimetype=self.mimetype
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/venv/lib/python3.11/site-packages/flask/json/provider.py", line 180, in dumps
    return json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/venv/lib/python3.11/site-packages/flask/json/provider.py", line 120, in _default
    raise TypeError(f"Object of type {type(o).__name__} is not JSON serializable")
TypeError: Object of type coroutine is not JSON serializable
2025-02-05 02:15:22,221 [ERROR] __main__:63: Application startup failed: Can't instantiate abstract class GoogleDataFetcher with abstract methods _get_details_endpoint, _get_search_endpoint, _get_search_params, _parse_business_data, _parse_competitor_data
Traceback (most recent call last):
  File "/Users/olayinka/CascadeProjects/Business_Auto/main.py", line 49, in main
    factory = BusinessAnalyzerFactory()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/shared/business_analyzer_factory.py", line 27, in __init__
    self.data_fetcher = GoogleDataFetcher(BusinessType.RESTAURANT)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Can't instantiate abstract class GoogleDataFetcher with abstract methods _get_details_endpoint, _get_search_endpoint, _get_search_params, _parse_business_data, _parse_competitor_data
2025-02-05 02:15:58,727 [ERROR] __main__:63: Application startup failed: Can't instantiate abstract class GoogleDataFetcher with abstract methods _get_details_endpoint, _get_search_endpoint, _get_search_params, _parse_business_data, _parse_competitor_data
Traceback (most recent call last):
  File "/Users/olayinka/CascadeProjects/Business_Auto/main.py", line 49, in main
    factory = BusinessAnalyzerFactory()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/shared/business_analyzer_factory.py", line 27, in __init__
    self.data_fetcher = GoogleDataFetcher(BusinessType.RESTAURANT)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Can't instantiate abstract class GoogleDataFetcher with abstract methods _get_details_endpoint, _get_search_endpoint, _get_search_params, _parse_business_data, _parse_competitor_data
2025-02-05 02:16:38,561 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating pricing analyzer
2025-02-05 02:16:38,563 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating sentiment analyzer
2025-02-05 02:16:38,564 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating competitors analyzer
2025-02-05 02:16:38,564 [INFO] smeanalytica.shared.business_analyzer_factory:36: Creating forecast analyzer
2025-02-05 02:16:48,595 [ERROR] root:167: Unexpected error: Object of type coroutine is not JSON serializable
Traceback (most recent call last):
  File "/Users/olayinka/CascadeProjects/Business_Auto/venv/lib/python3.11/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/venv/lib/python3.11/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/api/middleware/auth.py", line 31, in decorated
    """Decorator to require API key authentication."""
               ^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/api/middleware/rate_limit.py", line 54, in decorated
    if endpoint_type not in rate_limit_cache:
                   ^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/smeanalytica/api/middleware/cache.py", line 42, in decorated
    # Skip cache for non-GET requests
                       ^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/venv/lib/python3.11/site-packages/flask/json/__init__.py", line 170, in jsonify
    return current_app.json.response(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/venv/lib/python3.11/site-packages/flask/json/provider.py", line 215, in response
    f"{self.dumps(obj, **dump_args)}\n", mimetype=self.mimetype
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/venv/lib/python3.11/site-packages/flask/json/provider.py", line 180, in dumps
    return json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Users/olayinka/CascadeProjects/Business_Auto/venv/lib/python3.11/site-packages/flask/json/provider.py", line 120, in _default
    raise TypeError(f"Object of type {type(o).__name__} is not JSON serializable")
TypeError: Object of type coroutine is not JSON serializable
